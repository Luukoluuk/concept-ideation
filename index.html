<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RFF — Investor Portal</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=IBM+Plex+Mono:wght@300;400;500&family=Syne:wght@400;600;700;800&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet">

<style>
/* ── NAV BAR ── */
* { box-sizing: border-box; margin: 0; padding: 0; }
.rff-nav {
  position: fixed; top: 0; left: 0; right: 0; z-index: 9999;
  background: #0e0d0b; border-bottom: 1px solid #2a2820;
  display: flex; align-items: center; gap: 0;
  height: 44px; padding: 0 28px;
  font-family: 'IBM Plex Mono', monospace;
}
.rff-nav-brand {
  font-family: 'Playfair Display', serif;
  font-size: 16px; font-weight: 900; color: #f5f2eb;
  margin-right: 24px; letter-spacing: -0.01em;
  flex-shrink: 0;
}
.rff-nav-tabs { display: flex; gap: 2px; }
.rff-nav-tab {
  font-size: 11px; letter-spacing: 0.08em; text-transform: uppercase;
  padding: 0 16px; height: 44px; display: flex; align-items: center;
  cursor: pointer; color: #5a5750; border: none; background: none;
  border-bottom: 2px solid transparent; transition: all 0.15s;
  font-family: 'IBM Plex Mono', monospace;
}
.rff-nav-tab:hover { color: #c8b89a; }
.rff-nav-tab.active { color: #f5f2eb; border-bottom-color: #c8390a; }

/* ── PAGES ── */
.rff-page { display: none; padding-top: 44px; min-height: 100vh; }
.rff-page.active { display: block; }

/* ══════════════════════════════════════════
   LANDING PAGE STYLES
══════════════════════════════════════════ */
#page-home {
  font-family: 'IBM Plex Mono', monospace;
  background: #f5f2eb; color: #0e0d0b;
}
#page-home::before {
  content: ''; position: fixed; inset: 0; pointer-events: none; z-index: 0;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.025'/%3E%3C/svg%3E");
  opacity: 0.6;
}
.land-inner { position: relative; z-index: 1; max-width: 960px; margin: 0 auto; padding: 0 32px; }
.masthead { border-bottom: 3px solid #0e0d0b; padding: 28px 0 18px; margin-bottom: 0; }
.masthead-top { display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 12px; margin-bottom: 16px; }
.masthead-meta { font-size: 10px; letter-spacing: 0.15em; text-transform: uppercase; color: #8a8578; }
.masthead-date { font-size: 10px; letter-spacing: 0.1em; color: #8a8578; text-align: right; }
.masthead-rule { height: 1px; background: #d4cfc4; margin: 14px 0; }
.masthead-title { font-family: 'Playfair Display', serif; font-size: clamp(40px, 8vw, 88px); font-weight: 900; line-height: 0.95; letter-spacing: -0.02em; color: #0e0d0b; }
.masthead-title span { color: #c8390a; }
.masthead-deck { margin-top: 16px; font-size: 12px; color: #8a8578; letter-spacing: 0.04em; line-height: 1.6; max-width: 480px; }
.kicker-strip { display: flex; border-bottom: 1px solid #d4cfc4; border-top: 1px solid #d4cfc4; margin-bottom: 40px; overflow: hidden; }
.kicker-item { flex: 1; padding: 10px 16px; border-right: 1px solid #d4cfc4; font-size: 10px; letter-spacing: 0.1em; text-transform: uppercase; color: #8a8578; }
.kicker-item:last-child { border-right: none; }
.kicker-val { font-family: 'Playfair Display', serif; font-size: 20px; font-weight: 700; color: #0e0d0b; display: block; letter-spacing: 0; text-transform: none; margin-top: 2px; }
.land-section-label { font-size: 9px; letter-spacing: 0.2em; text-transform: uppercase; color: #8a8578; margin-bottom: 16px; display: flex; align-items: center; gap: 12px; }
.land-section-label::after { content: ''; flex: 1; height: 1px; background: #d4cfc4; }
.land-cards { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 40px; }
@media(max-width:600px){ .land-cards { grid-template-columns: 1fr; } }
.land-card { background: #faf8f4; border: 1px solid #e0dbd0; border-top: 3px solid #0e0d0b; border-radius: 2px; padding: 28px 24px 24px; cursor: pointer; display: flex; flex-direction: column; transition: all 0.2s; position: relative; overflow: hidden; text-decoration: none; color: inherit; }
.land-card::after { content: '→'; position: absolute; bottom: 24px; right: 24px; font-size: 20px; color: #d4cfc4; transition: all 0.2s; font-family: 'Playfair Display', serif; }
.land-card:hover { border-top-color: #c8390a; box-shadow: 4px 4px 0 #e0dbd0; transform: translate(-2px,-2px); }
.land-card:hover::after { color: #c8390a; transform: translate(4px,0); }
.land-card-eyebrow { font-size: 9px; letter-spacing: 0.18em; text-transform: uppercase; color: #8a8578; margin-bottom: 12px; }
.land-card-title { font-family: 'Playfair Display', serif; font-size: 26px; font-weight: 700; line-height: 1.1; margin-bottom: 12px; }
.land-card-desc { font-size: 11px; color: #8a8578; line-height: 1.6; flex: 1; margin-bottom: 20px; }
.land-card-tags { display: flex; flex-wrap: wrap; gap: 6px; }
.land-tag { font-size: 9px; letter-spacing: 0.1em; text-transform: uppercase; padding: 3px 8px; border: 1px solid #d4cfc4; border-radius: 2px; color: #8a8578; }
.prop-strip { border: 1px solid #e0dbd0; border-left: 3px solid #1a3a2a; background: #faf8f4; padding: 20px 24px; margin-bottom: 40px; border-radius: 2px; }
.prop-label { font-size: 9px; letter-spacing: 0.18em; text-transform: uppercase; color: #8a8578; margin-bottom: 8px; }
.prop-text { font-family: 'Playfair Display', serif; font-size: 16px; font-weight: 400; line-height: 1.6; color: #0e0d0b; }
.packages { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1px; background: #d4cfc4; margin-bottom: 40px; border: 1px solid #d4cfc4; }
@media(max-width:580px){ .packages { grid-template-columns: 1fr; } }
.pkg { background: #faf8f4; padding: 20px; }
.pkg-name { font-family: 'Playfair Display', serif; font-size: 18px; font-weight: 700; margin-bottom: 4px; }
.pkg-price { font-size: 11px; color: #c8390a; margin-bottom: 12px; font-weight: 500; }
.pkg-target { font-size: 10px; color: #8a8578; line-height: 1.5; }
.land-footer { border-top: 2px solid #0e0d0b; padding: 20px 0 32px; display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 16px; font-size: 10px; color: #8a8578; letter-spacing: 0.06em; }
.land-footer-brand { font-family: 'Playfair Display', serif; font-size: 22px; font-weight: 900; color: #0e0d0b; }

/* ══════════════════════════════════════════
   DASHBOARD STYLES
══════════════════════════════════════════ */
#page-dashboard {
  --bg: #0a0c10; --surface: #111318; --border: #1e2130; --accent: #c8ff5a;
  --accent2: #5af0ff; --accent3: #ff7a5a; --text: #e8eaf0; --muted: #5a607a;
  --green: #4ade80; --red: #f87171; --yellow: #fbbf24;
  background: var(--bg); color: var(--text);
  font-family: 'DM Mono', monospace;
}
#page-dashboard::before {
  content: ''; position: fixed; inset: 0; pointer-events: none; z-index: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
}
#page-dashboard .container, #page-cashflow .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; position: relative; z-index: 1; }
#page-dashboard header, #page-cashflow header { padding: 32px 0 28px; border-bottom: 1px solid var(--border,#1c2030); margin-bottom: 36px; }
#page-dashboard .header-inner, #page-cashflow .header-inner { display: flex; justify-content: space-between; align-items: flex-end; flex-wrap: wrap; gap: 16px; }
#page-dashboard .brand { font-family: 'Syne', sans-serif; font-size: 13px; font-weight: 600; letter-spacing: 0.18em; text-transform: uppercase; color: #c8ff5a; }
#page-dashboard h1 { font-family: 'Syne', sans-serif; font-size: clamp(28px,5vw,52px); font-weight: 800; line-height: 1.05; letter-spacing: -0.02em; color: #e8eaf0; margin-top: 8px; }
#page-dashboard h1 span { color: #5a607a; }
#page-dashboard .subtitle { color: #5a607a; font-size: 12px; letter-spacing: 0.05em; margin-top: 8px; }
#page-dashboard .tabs { display: flex; gap: 4px; background: #111318; border: 1px solid #1e2130; border-radius: 8px; padding: 4px; width: fit-content; }
#page-dashboard .tab { font-family: 'Syne', sans-serif; font-size: 13px; font-weight: 700; padding: 8px 20px; border-radius: 5px; cursor: pointer; transition: all 0.2s; color: #5a607a; border: none; background: none; letter-spacing: 0.05em; }
#page-dashboard .tab.active { background: #c8ff5a; color: #0a0c10; }
#page-dashboard .tab:hover:not(.active) { color: #e8eaf0; background: #1e2130; }
#page-dashboard .kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 40px; }
#page-dashboard .kpi-card { background: #111318; border: 1px solid #1e2130; border-radius: 12px; padding: 24px 20px; position: relative; overflow: hidden; transition: border-color 0.2s; animation: fadeUp 0.4s ease both; }
#page-dashboard .kpi-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: #c8ff5a; opacity: 0; transition: opacity 0.2s; }
#page-dashboard .kpi-card:hover { border-color: #c8ff5a; }
#page-dashboard .kpi-card:hover::before { opacity: 1; }
#page-dashboard .kpi-label { font-size: 10px; letter-spacing: 0.12em; text-transform: uppercase; color: #5a607a; margin-bottom: 12px; }
#page-dashboard .kpi-value { font-family: 'Syne', sans-serif; font-size: 28px; font-weight: 800; color: #e8eaf0; line-height: 1; }
#page-dashboard .kpi-change { font-size: 11px; margin-top: 8px; }
#page-dashboard .kpi-change.pos { color: #4ade80; }
#page-dashboard .kpi-change.neg { color: #f87171; }
#page-dashboard .section-header { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; }
#page-dashboard .section-title { font-family: 'Syne', sans-serif; font-size: 14px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: #e8eaf0; }
#page-dashboard .section-line { flex: 1; height: 1px; background: #1e2130; }
#page-dashboard .charts-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 40px; }
@media(max-width:768px){ #page-dashboard .charts-grid { grid-template-columns: 1fr; } }
#page-dashboard .chart-card { background: #111318; border: 1px solid #1e2130; border-radius: 12px; padding: 24px; }
#page-dashboard .chart-title { font-size: 11px; letter-spacing: 0.1em; text-transform: uppercase; color: #5a607a; margin-bottom: 20px; }
#page-dashboard .bar-chart { display: flex; align-items: flex-end; gap: 8px; height: 140px; }
#page-dashboard .bar-group { flex: 1; display: flex; flex-direction: column; align-items: center; gap: 4px; }
#page-dashboard .bars { display: flex; gap: 3px; align-items: flex-end; width: 100%; }
#page-dashboard .bar { flex: 1; border-radius: 3px 3px 0 0; transition: opacity 0.2s; cursor: pointer; position: relative; }
#page-dashboard .bar:hover { opacity: 0.8; }
#page-dashboard .bar-label { font-size: 9px; color: #5a607a; text-align: center; white-space: nowrap; }
#page-dashboard .stacked-bar { flex: 1; display: flex; flex-direction: column; border-radius: 3px; overflow: hidden; }
#page-dashboard .stacked-seg { transition: opacity 0.2s; }
#page-dashboard .stacked-seg:hover { opacity: 0.8; }
#page-dashboard .donut-wrap { display: flex; align-items: center; gap: 24px; }
#page-dashboard .donut-legend { display: flex; flex-direction: column; gap: 10px; flex: 1; }
#page-dashboard .legend-item { display: flex; align-items: center; gap: 8px; font-size: 11px; }
#page-dashboard .legend-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
#page-dashboard .legend-val { margin-left: auto; font-weight: 500; }
#page-dashboard .table-wrap { background: #111318; border: 1px solid #1e2130; border-radius: 12px; overflow: hidden; margin-bottom: 40px; }
#page-dashboard table { width: 100%; border-collapse: collapse; }
#page-dashboard th { font-size: 9px; letter-spacing: 0.12em; text-transform: uppercase; color: #5a607a; padding: 12px 16px; text-align: right; background: #0a0c10; border-bottom: 1px solid #1e2130; }
#page-dashboard th:first-child { text-align: left; }
#page-dashboard td { font-size: 12px; padding: 12px 16px; text-align: right; border-bottom: 1px solid #1e2130; }
#page-dashboard td:first-child { text-align: left; color: #5a607a; }
#page-dashboard tr:last-child td { border-bottom: none; }
#page-dashboard tr.total-row td { font-weight: 500; color: #c8ff5a; background: rgba(200,255,90,0.04); }
#page-dashboard tr:hover td { background: rgba(255,255,255,0.02); }
#page-dashboard .packages-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 40px; }
@media(max-width:600px){ #page-dashboard .packages-grid { grid-template-columns: 1fr; } }
#page-dashboard .pkg-card { background: #111318; border: 1px solid #1e2130; border-radius: 12px; padding: 24px; transition: border-color 0.2s; }
#page-dashboard .pkg-card:hover { border-color: #5a607a; }
#page-dashboard .pkg-name { font-family: 'Syne', sans-serif; font-size: 18px; font-weight: 800; margin-bottom: 4px; }
#page-dashboard .pkg-price { font-size: 11px; color: #5a607a; margin-bottom: 16px; }
#page-dashboard .pkg-stat { display: flex; justify-content: space-between; font-size: 11px; padding: 6px 0; border-bottom: 1px solid #1e2130; }
#page-dashboard .pkg-stat:last-child { border-bottom: none; }
#page-dashboard .pkg-stat-label { color: #5a607a; }
#page-dashboard .pkg-margin { font-size: 12px; font-weight: 500; margin-top: 12px; padding: 8px 10px; border-radius: 6px; text-align: center; }
#page-dashboard .pill { display: inline-block; padding: 2px 8px; border-radius: 20px; font-size: 10px; font-weight: 500; }
#page-dashboard .pill-green { background: rgba(74,222,128,0.12); color: #4ade80; }
#page-dashboard .pill-yellow { background: rgba(200,255,90,0.12); color: #c8ff5a; }
#page-dashboard .pill-red { background: rgba(248,113,113,0.12); color: #f87171; }
#page-dashboard footer { border-top: 1px solid #1e2130; padding: 24px 0; margin-top: 40px; display: flex; justify-content: space-between; align-items: center; font-size: 10px; color: #5a607a; letter-spacing: 0.08em; flex-wrap: wrap; gap: 8px; }

/* ══════════════════════════════════════════
   CASH FLOW STYLES
══════════════════════════════════════════ */
#page-cashflow {
  --bg: #080a0e; --surface: #0f1116; --surface2: #151820; --border: #1c2030;
  --accent: #00e5ff; --accent2: #b4ff6e; --warn: #ff6b6b; --neutral: #4a5270;
  --text: #dde2f0; --muted: #4a5270; --green: #4ade80; --red: #ff6b6b; --yellow: #fbbf24;
  background: var(--bg); color: var(--text);
  font-family: 'DM Mono', monospace;
}
#page-cashflow::after {
  content: ''; position: fixed; inset: 0; pointer-events: none; z-index: 0;
  background-image: linear-gradient(rgba(0,229,255,0.015) 1px,transparent 1px), linear-gradient(90deg,rgba(0,229,255,0.015) 1px,transparent 1px);
  background-size: 48px 48px;
}
#page-cashflow .eyebrow { font-size: 11px; letter-spacing: 0.2em; text-transform: uppercase; color: #00e5ff; margin-bottom: 6px; }
#page-cashflow h1 { font-family: 'Syne', sans-serif; font-size: clamp(24px,4vw,44px); font-weight: 800; letter-spacing: -0.025em; line-height: 1.05; }
#page-cashflow h1 em { color: #4a5270; font-style: normal; }
#page-cashflow .subhead { font-size: 11px; color: #4a5270; margin-top: 6px; letter-spacing: 0.04em; }
#page-cashflow .year-tabs { display: flex; gap: 4px; }
#page-cashflow .ytab { font-family: 'Syne', sans-serif; font-size: 12px; font-weight: 700; letter-spacing: 0.06em; padding: 7px 18px; border-radius: 6px; cursor: pointer; border: 1px solid #1c2030; background: none; color: #4a5270; transition: all 0.15s; font-family: 'DM Mono', monospace; }
#page-cashflow .ytab.active { background: #00e5ff; color: #080a0e; border-color: #00e5ff; }
#page-cashflow .ytab:hover:not(.active) { border-color: #4a5270; color: #dde2f0; }
#page-cashflow .summary-strip { display: grid; grid-template-columns: repeat(4,1fr); gap: 12px; margin-bottom: 32px; }
@media(max-width:700px){ #page-cashflow .summary-strip { grid-template-columns: repeat(2,1fr); } }
#page-cashflow .stat-box { background: #0f1116; border: 1px solid #1c2030; border-radius: 10px; padding: 18px 16px; position: relative; overflow: hidden; animation: fadeUp 0.35s ease both; }
#page-cashflow .stat-box::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px; }
#page-cashflow .stat-box.pos::before { background: #4ade80; }
#page-cashflow .stat-box.neg::before { background: #ff6b6b; }
#page-cashflow .stat-box.warn::before { background: #fbbf24; }
#page-cashflow .stat-box.info::before { background: #00e5ff; }
#page-cashflow .stat-label { font-size: 9px; letter-spacing: 0.14em; text-transform: uppercase; color: #4a5270; margin-bottom: 10px; }
#page-cashflow .stat-val { font-family: 'Syne', sans-serif; font-size: 22px; font-weight: 800; line-height: 1; }
#page-cashflow .stat-sub { font-size: 10px; color: #4a5270; margin-top: 5px; }
#page-cashflow .section-hd { display: flex; align-items: center; gap: 10px; margin-bottom: 16px; margin-top: 32px; }
#page-cashflow .section-hd-label { font-size: 10px; font-weight: 500; letter-spacing: 0.14em; text-transform: uppercase; color: #4a5270; white-space: nowrap; }
#page-cashflow .section-hd-line { flex: 1; height: 1px; background: #1c2030; }
#page-cashflow .chart-card { background: #0f1116; border: 1px solid #1c2030; border-radius: 12px; padding: 24px; margin-bottom: 20px; }
#page-cashflow .chart-title { font-size: 10px; letter-spacing: 0.12em; text-transform: uppercase; color: #4a5270; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 8px; }
#page-cashflow .chart-legend { display: flex; gap: 16px; flex-wrap: wrap; }
#page-cashflow .leg-item { display: flex; align-items: center; gap: 6px; font-size: 10px; color: #4a5270; }
#page-cashflow .leg-dot { width: 8px; height: 8px; border-radius: 2px; }
#page-cashflow .chart-svg-wrap { width: 100%; overflow: hidden; }
#page-cashflow .month-labels { display: flex; padding: 0 4px; margin-top: 6px; }
#page-cashflow .m-label { flex: 1; text-align: center; font-size: 9px; color: #4a5270; }
#page-cashflow .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px; }
@media(max-width:700px){ #page-cashflow .grid-2 { grid-template-columns: 1fr; } }
#page-cashflow .wf-chart { display: flex; align-items: flex-end; gap: 3px; height: 110px; padding: 0 4px; }
#page-cashflow .wf-col { flex: 1; display: flex; flex-direction: column; align-items: center; }
#page-cashflow .wf-bar { width: 100%; border-radius: 2px 2px 0 0; min-height: 2px; transition: opacity 0.2s; cursor: default; }
#page-cashflow .wf-bar:hover { opacity: 0.75; }
#page-cashflow .tbl-wrap { background: #0f1116; border: 1px solid #1c2030; border-radius: 12px; overflow: hidden; margin-bottom: 20px; overflow-x: auto; }
#page-cashflow table { width: 100%; border-collapse: collapse; min-width: 700px; }
#page-cashflow th { font-size: 9px; letter-spacing: 0.1em; text-transform: uppercase; color: #4a5270; padding: 10px 14px; text-align: right; background: #080a0e; border-bottom: 1px solid #1c2030; }
#page-cashflow th:first-child { text-align: left; }
#page-cashflow td { font-size: 11px; padding: 10px 14px; text-align: right; border-bottom: 1px solid #1c2030; white-space: nowrap; }
#page-cashflow td:first-child { text-align: left; color: #4a5270; font-size: 10px; }
#page-cashflow tr:last-child td { border-bottom: none; }
#page-cashflow tr.total-row td { color: #00e5ff; font-weight: 500; background: rgba(0,229,255,0.03); }
#page-cashflow tr.divider td { height: 4px; background: #080a0e; padding: 0; border-bottom: 1px solid #1c2030; }
#page-cashflow .neg-val { color: #ff6b6b; }
#page-cashflow .pos-val { color: #4ade80; }
#page-cashflow .runway-card { background: #0f1116; border: 1px solid #1c2030; border-radius: 12px; padding: 24px; }
#page-cashflow .runway-label { font-size: 10px; letter-spacing: 0.12em; text-transform: uppercase; color: #4a5270; margin-bottom: 16px; }
#page-cashflow .runway-track { background: #1c2030; border-radius: 4px; height: 10px; overflow: hidden; margin-bottom: 8px; }
#page-cashflow .runway-fill { height: 100%; border-radius: 4px; transition: width 0.5s ease; }
#page-cashflow .runway-months { display: flex; justify-content: space-between; font-size: 9px; color: #4a5270; margin-bottom: 20px; }
#page-cashflow .alert { padding: 12px 16px; border-radius: 8px; font-size: 11px; line-height: 1.5; margin-bottom: 12px; border-left: 3px solid; }
#page-cashflow .alert.red { background: rgba(255,107,107,0.08); border-color: #ff6b6b; color: #fca5a5; }
#page-cashflow .alert.yellow { background: rgba(251,191,36,0.08); border-color: #fbbf24; color: #fde68a; }
#page-cashflow .alert.green { background: rgba(74,222,128,0.08); border-color: #4ade80; color: #86efac; }
#page-cashflow footer { border-top: 1px solid #1c2030; padding: 20px 0; margin-top: 40px; display: flex; justify-content: space-between; font-size: 10px; color: #4a5270; letter-spacing: 0.06em; flex-wrap: wrap; gap: 8px; }

@keyframes fadeUp { from { opacity:0; transform:translateY(10px); } to { opacity:1; transform:translateY(0); } }
</style>
</head>
<body>

<!-- NAV -->
<nav class="rff-nav">
  <div class="rff-nav-brand">RFF</div>
  <div class="rff-nav-tabs">
    <button class="rff-nav-tab active" onclick="showPage('home', this)">Overview</button>
    <button class="rff-nav-tab" onclick="showPage('dashboard', this)">Financial Projections</button>
    <button class="rff-nav-tab" onclick="showPage('cashflow', this)">Cash Forecast</button>
  </div>
</nav>

<!-- PAGE: HOME -->
<div id="page-home" class="rff-page active">
  <div class="land-inner">
    <div class="masthead">
      <div class="masthead-top">
        <div class="masthead-meta">RFF · Fractional C-Suite + Execution Platform</div>
        <div class="masthead-date">Forecast Period: 2026 – 2028<br>Prepared: February 2026</div>
      </div>
      <div class="masthead-rule"></div>
      <div class="masthead-title">Investor<br>Portal <span>—</span></div>
      <div class="masthead-deck">Financial projections, cash forecasts and business model overview for RFF — the fractional C-Suite platform for purpose-driven startups and scale-ups.</div>
    </div>
    <div class="kicker-strip">
      <div class="kicker-item">3-Year Revenue<span class="kicker-val">€5.4M</span></div>
      <div class="kicker-item">Clients by 2028<span class="kicker-val">21</span></div>
      <div class="kicker-item">EOY Cash 2028<span class="kicker-val">€781K</span></div>
      <div class="kicker-item">Packages<span class="kicker-val">3 Tiers</span></div>
    </div>
    <div class="land-section-label">Interactive Reports</div>
    <div class="land-cards">
      <div class="land-card" onclick="showPage('dashboard', document.querySelectorAll('.rff-nav-tab')[1])">
        <div class="land-card-eyebrow">Dashboard 01</div>
        <div class="land-card-title">Financial Projections</div>
        <div class="land-card-desc">3-year P&L, revenue by package, client ramp, FTE model and OPEX breakdown across 2026–2028.</div>
        <div class="land-card-tags">
          <span class="land-tag">P&L</span><span class="land-tag">Revenue</span><span class="land-tag">FTE</span><span class="land-tag">OPEX</span>
        </div>
      </div>
      <div class="land-card" onclick="showPage('cashflow', document.querySelectorAll('.rff-nav-tab')[2])">
        <div class="land-card-eyebrow">Dashboard 02</div>
        <div class="land-card-title">Cash Forecast</div>
        <div class="land-card-desc">Monthly cash position, operating and investing cash flows, runway analysis and key alerts across all 36 months.</div>
        <div class="land-card-tags">
          <span class="land-tag">Cash Flow</span><span class="land-tag">Runway</span><span class="land-tag">Liquidity</span>
        </div>
      </div>
    </div>
    <div class="land-section-label">Value Proposition</div>
    <div class="prop-strip">
      <div class="prop-label">What we do</div>
      <div class="prop-text">We build and run the complete backoffice, finance, HR and commercial infrastructure for purpose-driven startups — as a strategic operator-partner, not as a consultant or interim. From strategy to execution.</div>
    </div>
    <div class="land-section-label">Pricing Tiers</div>
    <div class="packages">
      <div class="pkg"><div class="pkg-name">Foundation</div><div class="pkg-price">€6,750 / month</div><div class="pkg-target">Startups 2–10 FTE · €0–3M revenue · 32 hours/month</div></div>
      <div class="pkg"><div class="pkg-name">Growth</div><div class="pkg-price">€17,000 / month</div><div class="pkg-target">Startups 10–30 FTE · €1–8M revenue · 132 hours/month</div></div>
      <div class="pkg"><div class="pkg-name">Scale</div><div class="pkg-price">€27,000 / month</div><div class="pkg-target">Startups 30–100 FTE · €6–25M revenue · 208 hours/month</div></div>
    </div>
    <div class="land-footer">
      <div><div class="land-footer-brand">RFF</div><div style="margin-top:4px">Fractional C-Suite + Execution Platform</div><div style="font-size:9px;color:#d4cfc4;margin-top:6px">Nuenen, North Brabant · The Netherlands</div></div>
      <div style="text-align:right"><div>Confidential — for investor use only</div><div style="margin-top:4px">All figures in EUR · Projections are forecasts</div></div>
    </div>
  </div>
</div>

<!-- PAGE: FINANCIAL DASHBOARD -->
<div id="page-dashboard" class="rff-page">
<div class="container">
  <header>
    <div class="header-inner">
      <div>
        <div class="brand">RFF — Fractional C-Suite</div>
        <h1>Financial Projections<br><span>2026 — 2028</span></h1>
        <div class="subtitle">Purpose-driven startups &amp; scale-ups · Foundation · Growth · Scale</div>
      </div>
      <div>
        <div class="tabs">
          <button class="tab active" onclick="setYear(2026,this)">2026</button>
          <button class="tab" onclick="setYear(2027,this)">2027</button>
          <button class="tab" onclick="setYear(2028,this)">2028</button>
          <button class="tab" onclick="setYear('all',this)">All Years</button>
        </div>
      </div>
    </div>
  </header>
  <div id="kpiGrid" class="kpi-grid"></div>
  <div class="section-header"><div class="section-title">Revenue</div><div class="section-line"></div></div>
  <div class="charts-grid">
    <div class="chart-card"><div class="chart-title">Monthly Recurring Revenue by Package</div><div id="mrrChart"></div></div>
    <div class="chart-card"><div class="chart-title">Client Mix — End of Year</div><div id="clientMix"></div></div>
  </div>
  <div class="section-header"><div class="section-title">Profit & Loss</div><div class="section-line"></div></div>
  <div class="table-wrap"><table id="plTable"></table></div>
  <div class="section-header"><div class="section-title">Package Economics</div><div class="section-line"></div></div>
  <div class="packages-grid" id="packagesGrid"></div>
  <div class="section-header"><div class="section-title">Headcount & OPEX</div><div class="section-line"></div></div>
  <div class="charts-grid">
    <div class="chart-card"><div class="chart-title">FTE Ramp</div><div id="fteChart"></div></div>
    <div class="chart-card"><div class="chart-title">OPEX Breakdown</div><div id="opexChart"></div></div>
  </div>
  <footer><span>RFF Ideation Model</span><span>All figures in EUR · Forecasts only</span></footer>
</div>
</div>

<!-- PAGE: CASH FORECAST -->
<div id="page-cashflow" class="rff-page">
<div class="container">
  <header>
    <div class="header-inner">
      <div>
        <div class="eyebrow">RFF · Fractional C-Suite</div>
        <h1>Cash Forecast<br><em>2026 — 2028</em></h1>
        <div class="subhead">Monthly cash position · Operating, investing &amp; financing flows · Runway analysis</div>
      </div>
      <div>
        <div class="year-tabs">
          <button class="ytab active" onclick="setCashYear(2026,this)">2026</button>
          <button class="ytab" onclick="setCashYear(2027,this)">2027</button>
          <button class="ytab" onclick="setCashYear(2028,this)">2028</button>
          <button class="ytab" onclick="setCashYear('all',this)">All 36M</button>
        </div>
      </div>
    </div>
  </header>
  <div id="summaryStrip" class="summary-strip"></div>
  <div class="section-hd"><div class="section-hd-label">Cash Position</div><div class="section-hd-line"></div></div>
  <div class="chart-card">
    <div class="chart-title">
      <span>Monthly Ending Cash Balance (€)</span>
      <div class="chart-legend">
        <div class="leg-item"><div class="leg-dot" style="background:#00e5ff"></div>Cash balance</div>
        <div class="leg-item"><div class="leg-dot" style="background:#ff6b6b;opacity:.5"></div>Negative zone</div>
      </div>
    </div>
    <div class="chart-svg-wrap" id="cashLineChart"></div>
    <div id="monthLabels" class="month-labels"></div>
  </div>
  <div class="grid-2">
    <div class="chart-card"><div class="chart-title"><span>Monthly Net Cash Change</span></div><div class="wf-chart" id="netChangeChart"></div><div id="netChangeLabels" class="month-labels"></div></div>
    <div class="chart-card"><div class="chart-title"><span>Cash Flow Components</span></div><div id="componentsChart"></div></div>
  </div>
  <div class="section-hd"><div class="section-hd-label">Cash Flow Statement</div><div class="section-hd-line"></div></div>
  <div class="tbl-wrap"><table id="cfTable"></table></div>
  <div class="section-hd"><div class="section-hd-label">Runway & Alerts</div><div class="section-hd-line"></div></div>
  <div class="grid-2">
    <div class="runway-card" id="runwayCard"></div>
    <div id="alertsCard"></div>
  </div>
  <footer><span>RFF Cash Forecast · Source: RFF_Ideation.xlsx</span><span>All figures in EUR excl. VAT</span></footer>
</div>
</div>

<script>
// ── PAGE NAVIGATION ──────────────────────────────────────────────────────────
function showPage(id, btn) {
  document.querySelectorAll('.rff-page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.rff-nav-tab').forEach(b => b.classList.remove('active'));
  document.getElementById('page-' + id).classList.add('active');
  if (btn) btn.classList.add('active');
  window.scrollTo(0, 0);
  if (id === 'dashboard') renderDashboard();
  if (id === 'cashflow') renderCashflow();
}

// ══════════════════════════════════════════
// DASHBOARD LOGIC
// ══════════════════════════════════════════
const annualRevenue = { 2026: 264000, 2027: 1479984, 2028: 3120624 };
const annualOpex = { 2026: 437000, 2027: 1050000, 2028: 2200000 };
const ebit = { 2026: annualRevenue[2026]-annualOpex[2026], 2027: annualRevenue[2027]-annualOpex[2027], 2028: annualRevenue[2028]-annualOpex[2028] };
const dashData = {
  2026: { clients:{foundation:3,growth:1,scale:0.5}, mrr:{foundation:20250,growth:17000,scale:13500}, totalMRR:50750, totalFTE:2.7 },
  2027: { clients:{foundation:8,growth:2,scale:2}, mrr:{foundation:56700,growth:35700,scale:56700}, totalMRR:149100, totalFTE:9.4 },
  2028: { clients:{foundation:13,growth:4,scale:4}, mrr:{foundation:96744,growth:74970,scale:119070}, totalMRR:290784, totalFTE:17.75 }
};
let currentYear = 2026;

function fmt(n,dec=0){
  if(n===null||n===undefined)return'—';
  const abs=Math.abs(n);
  if(abs>=1e6)return(n/1e6).toFixed(2)+'M';
  if(abs>=1e3)return'€'+Math.round(n).toLocaleString('nl-NL');
  return'€'+n.toFixed(dec);
}
function pct(n){return(n*100).toFixed(1)+'%';}

function setYear(yr,btn){
  currentYear=yr;
  document.querySelectorAll('#page-dashboard .tab').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
  renderDashboard();
}

function renderDashboard(){
  renderKPIs(); renderMRRChart(); renderClientMix(); renderPLTable(); renderPackages(); renderFTEChart(); renderOPEXChart();
}

function renderKPIs(){
  const grid=document.getElementById('kpiGrid');
  if(currentYear==='all'){
    grid.innerHTML=`
      <div class="kpi-card"><div class="kpi-label">Revenue 2026</div><div class="kpi-value">${fmt(annualRevenue[2026])}</div><div class="kpi-change pos">Year 1</div></div>
      <div class="kpi-card"><div class="kpi-label">Revenue 2027</div><div class="kpi-value">${fmt(annualRevenue[2027])}</div><div class="kpi-change pos">↑ ${pct((annualRevenue[2027]-annualRevenue[2026])/annualRevenue[2026])} YoY</div></div>
      <div class="kpi-card"><div class="kpi-label">Revenue 2028</div><div class="kpi-value">${fmt(annualRevenue[2028])}</div><div class="kpi-change pos">↑ ${pct((annualRevenue[2028]-annualRevenue[2027])/annualRevenue[2027])} YoY</div></div>
      <div class="kpi-card"><div class="kpi-label">EBIT 2028</div><div class="kpi-value" style="color:${ebit[2028]>0?'var(--green)':'var(--red)'}">${fmt(ebit[2028])}</div><div class="kpi-change ${ebit[2028]>0?'pos':'neg'}">${pct(ebit[2028]/annualRevenue[2028])} margin</div></div>
      <div class="kpi-card"><div class="kpi-label">Total Clients 2028</div><div class="kpi-value">21</div><div class="kpi-change pos">↑ from 4.5 in 2026</div></div>`;
    return;
  }
  const yr=currentYear,d=dashData[yr],rev=annualRevenue[yr],opx=annualOpex[yr],eb=ebit[yr],prevRev=yr>2026?annualRevenue[yr-1]:null;
  const totalClients=d.clients.foundation+d.clients.growth+d.clients.scale;
  grid.innerHTML=`
    <div class="kpi-card"><div class="kpi-label">Annual Revenue</div><div class="kpi-value">${fmt(rev)}</div>${prevRev?`<div class="kpi-change pos">↑ ${pct((rev-prevRev)/prevRev)} vs ${yr-1}</div>`:'<div class="kpi-change" style="color:var(--muted)">Year 1</div>'}</div>
    <div class="kpi-card"><div class="kpi-label">Monthly MRR (EOY)</div><div class="kpi-value">${fmt(d.totalMRR)}</div><div class="kpi-change" style="color:var(--muted)">End of ${yr}</div></div>
    <div class="kpi-card"><div class="kpi-label">Total Clients</div><div class="kpi-value">${totalClients.toFixed(1)}</div><div class="kpi-change" style="color:var(--muted)">Foundation · Growth · Scale</div></div>
    <div class="kpi-card"><div class="kpi-label">EBIT</div><div class="kpi-value" style="color:${eb>0?'var(--green)':'var(--red)'}">${fmt(eb)}</div><div class="kpi-change ${eb>0?'pos':'neg'}">${pct(eb/rev)} margin</div></div>
    <div class="kpi-card"><div class="kpi-label">Total FTE</div><div class="kpi-value">${d.totalFTE}</div><div class="kpi-change" style="color:var(--muted)">Avg FTEs across year</div></div>`;
}

function renderMRRChart(){
  const wrap=document.getElementById('mrrChart');
  const mrrData={
    2026:[{f:0,g:0,s:0},{f:0,g:0,s:0},{f:0,g:0,s:0},{f:6750,g:0,s:0},{f:6750,g:0,s:0},{f:6750,g:0,s:0},{f:13500,g:17000,s:0},{f:13500,g:17000,s:0},{f:13500,g:17000,s:0},{f:20250,g:17000,s:13500},{f:20250,g:17000,s:13500},{f:20250,g:17000,s:13500}],
    2027:[{f:35438,g:17850,s:28350},{f:35438,g:17850,s:28350},{f:42525,g:17850,s:28350},{f:42525,g:35700,s:28350},{f:49613,g:35700,s:42525},{f:49613,g:35700,s:42525},{f:49613,g:35700,s:42525},{f:49613,g:35700,s:42525},{f:56700,g:35700,s:56700},{f:56700,g:35700,s:56700},{f:56700,g:35700,s:56700},{f:56700,g:35700,s:56700}],
    2028:[{f:74419,g:56228,s:89303},{f:74419,g:56228,s:89303},{f:81861,g:56228,s:89303},{f:81861,g:74970,s:89303},{f:89303,g:74970,s:104186},{f:89303,g:74970,s:104186},{f:89303,g:74970,s:104186},{f:89303,g:74970,s:104186},{f:96744,g:74970,s:104186},{f:96744,g:74970,s:119070},{f:96744,g:74970,s:119070},{f:96744,g:74970,s:119070}]
  };
  const months=['J','F','M','A','M','J','J','A','S','O','N','D'];
  const chartData=currentYear==='all'?[2026,2027,2028].map(yr=>{const l=mrrData[yr][11];return{f:l.f,g:l.g,s:l.s};}):mrrData[currentYear];
  const lbls=currentYear==='all'?['2026','2027','2028']:months;
  const maxVal=Math.max(...chartData.map(d=>d.f+d.g+d.s));
  const bars=chartData.map((d,i)=>{
    const fh=maxVal?(d.f/maxVal*120):0,gh=maxVal?(d.g/maxVal*120):0,sh=maxVal?(d.s/maxVal*120):0;
    return`<div class="bar-group"><div class="bars" style="height:120px"><div class="stacked-bar" style="height:${fh+gh+sh}px"><div class="stacked-seg" style="flex:${sh};background:#5af0ff;min-height:${sh>0?2:0}px"></div><div class="stacked-seg" style="flex:${gh};background:#c8ff5a;min-height:${gh>0?2:0}px"></div><div class="stacked-seg" style="flex:${fh};background:#5a607a;min-height:${fh>0?2:0}px"></div></div></div><div class="bar-label">${lbls[i]}</div></div>`;
  }).join('');
  wrap.innerHTML=`<div class="bar-chart">${bars}</div><div style="display:flex;gap:16px;margin-top:12px"><div style="display:flex;align-items:center;gap:6px;font-size:10px;color:var(--muted)"><div style="width:10px;height:10px;border-radius:2px;background:#5a607a"></div>Foundation</div><div style="display:flex;align-items:center;gap:6px;font-size:10px;color:var(--muted)"><div style="width:10px;height:10px;border-radius:2px;background:#c8ff5a"></div>Growth</div><div style="display:flex;align-items:center;gap:6px;font-size:10px;color:var(--muted)"><div style="width:10px;height:10px;border-radius:2px;background:#5af0ff"></div>Scale</div></div>`;
}

function renderClientMix(){
  const wrap=document.getElementById('clientMix');
  const clientsByYear={2026:{f:3,g:1,s:0.5},2027:{f:8,g:2,s:2},2028:{f:13,g:4,s:4}};
  const d=currentYear==='all'?{f:13,g:4,s:4}:clientsByYear[currentYear];
  const total=d.f+d.g+d.s,fpct=total?(d.f/total*100):0,gpct=total?(d.g/total*100):0,spct=total?(d.s/total*100):0;
  const r=45,cx=60,cy=60,stroke=18,circum=2*Math.PI*r;
  function arc(p,offset,color){const len=circum*p/100;return`<circle cx="${cx}" cy="${cy}" r="${r}" fill="none" stroke="${color}" stroke-width="${stroke}" stroke-dasharray="${len} ${circum}" stroke-dashoffset="${-offset*circum/100}" transform="rotate(-90 ${cx} ${cy})" opacity="0.9"/>`;}
  const yr=currentYear==='all'?2028:currentYear;
  const rates={2026:{f:6750,g:17000,s:27000},2027:{f:7088,g:17850,s:28350},2028:{f:7442,g:18743,s:29768}};
  const r2=rates[yr];
  wrap.innerHTML=`<div class="donut-wrap"><svg width="120" height="120" viewBox="0 0 120 120"><circle cx="${cx}" cy="${cy}" r="${r}" fill="none" stroke="var(--border)" stroke-width="${stroke}"/>${arc(fpct,0,'#5a607a')}${arc(gpct,fpct,'#c8ff5a')}${arc(spct,fpct+gpct,'#5af0ff')}<text x="${cx}" y="${cy-4}" text-anchor="middle" font-size="18" font-weight="700" fill="var(--text)">${total.toFixed(1)}</text><text x="${cx}" y="${cy+12}" text-anchor="middle" font-size="9" fill="var(--muted)">clients</text></svg><div class="donut-legend"><div class="legend-item"><div class="legend-dot" style="background:#5a607a"></div><span>Foundation</span><span class="legend-val">${d.f} × ${fmt(r2.f)}</span></div><div class="legend-item"><div class="legend-dot" style="background:#c8ff5a"></div><span>Growth</span><span class="legend-val">${d.g} × ${fmt(r2.g)}</span></div><div class="legend-item"><div class="legend-dot" style="background:#5af0ff"></div><span>Scale</span><span class="legend-val">${d.s} × ${fmt(r2.s)}</span></div><div style="border-top:1px solid var(--border);padding-top:8px;font-size:11px;color:var(--muted)">MRR (EOY): <span style="color:var(--text);font-weight:500">${fmt(d.f*r2.f+d.g*r2.g+d.s*r2.s)}</span></div></div></div>`;
}

function renderPLTable(){
  const table=document.getElementById('plTable');
  const rows=[
    {label:'Revenue — Foundation',v:{2026:annualRevenue[2026]*0.42,2027:annualRevenue[2027]*0.41,2028:annualRevenue[2028]*0.33}},
    {label:'Revenue — Growth',v:{2026:annualRevenue[2026]*0.34,2027:annualRevenue[2027]*0.34,2028:annualRevenue[2028]*0.35}},
    {label:'Revenue — Scale',v:{2026:annualRevenue[2026]*0.14,2027:annualRevenue[2027]*0.25,2028:annualRevenue[2028]*0.32}},
    {label:'Total Revenue',v:{2026:annualRevenue[2026],2027:annualRevenue[2027],2028:annualRevenue[2028]},total:true},
    {label:'Personnel Costs',v:{2026:-237000,2027:-756000,2028:-1680000}},
    {label:'Housing',v:{2026:-37800,2027:-70000,2028:-134772}},
    {label:'General & Admin',v:{2026:-17700,2027:-36462,2028:-75112}},
    {label:'Marketing',v:{2026:-18260,2027:-37615,2028:-85891}},
    {label:'Total OPEX',v:{2026:-annualOpex[2026],2027:-annualOpex[2027],2028:-annualOpex[2028]},total:true},
    {label:'EBIT',v:{2026:ebit[2026],2027:ebit[2027],2028:ebit[2028]},total:true,isEbit:true},
    {label:'EBIT Margin',v:{2026:ebit[2026]/annualRevenue[2026],2027:ebit[2027]/annualRevenue[2027],2028:ebit[2028]/annualRevenue[2028]},margin:true},
  ];
  const years=[2026,2027,2028];
  table.innerHTML=`<thead><tr><th>P&L Overview</th>${years.map(y=>`<th>${y}</th>`).join('')}</tr></thead><tbody>${rows.map(row=>{
    const cells=years.map(yr=>{
      const val=row.v[yr];
      if(row.margin)return`<td><span class="pill ${val>=0?'pill-green':'pill-red'}">${pct(val)}</span></td>`;
      const color=row.isEbit?(val>=0?'var(--green)':'var(--red)'):'';
      return`<td ${color?`style="color:${color}"`:''}>${fmt(val)}</td>`;
    }).join('');
    return`<tr ${row.total?'class="total-row"':''}><td>${row.label}</td>${cells}</tr>`;
  }).join('')}</tbody>`;
}

function renderPackages(){
  const grid=document.getElementById('packagesGrid');
  const yr=currentYear==='all'?2028:currentYear;
  const rates={2026:{f:6750,g:17000,s:27000},2027:{f:7088,g:17850,s:28350},2028:{f:7442,g:18743,s:29768}};
  const costs={f:6634,g:16491,s:26829},r=rates[yr];
  const pkgs=[
    {name:'Foundation',color:'#5a607a',price:r.f,cost:costs.f,hours:32,includes:'CFO + CMO + CTO + HR + Backoffice'},
    {name:'Growth',color:'#c8ff5a',price:r.g,cost:costs.g,hours:132,includes:'Full C-Suite + HR Admin + Data Engineer'},
    {name:'Scale',color:'#5af0ff',price:r.s,cost:costs.s,hours:208,includes:'Full team · Extended capacity · Premium software'}
  ];
  grid.innerHTML=pkgs.map(p=>{
    const margin=p.price-p.cost,marginPct=margin/p.price;
    const pillClass=marginPct>0.05?'pill-green':marginPct>0?'pill-yellow':'pill-red';
    return`<div class="pkg-card" style="border-top:3px solid ${p.color}"><div class="pkg-name" style="color:${p.color}">${p.name}</div><div class="pkg-price">${fmt(p.price)}/month · ${p.hours}h included</div><div class="pkg-stat"><span class="pkg-stat-label">Cost of Delivery</span><span>${fmt(p.cost)}</span></div><div class="pkg-stat"><span class="pkg-stat-label">Gross Margin</span><span>${fmt(margin)}</span></div><div class="pkg-margin ${pillClass}" style="border:1px solid currentColor;opacity:.9">Margin: ${pct(marginPct)}</div><div style="font-size:10px;color:var(--muted);margin-top:12px">${p.includes}</div></div>`;
  }).join('');
}

function renderFTEChart(){
  const wrap=document.getElementById('fteChart');
  const fteByRole={'CEO':{2026:0.3,2027:0.64,2028:1.45},'CFO':{2026:0.6,2027:1.22,2028:2.25},'CMO':{2026:0.25,2027:1.13,2028:2.25},'CTO':{2026:0.25,2027:1.13,2028:2.35},'HR':{2026:0.25,2027:1.25,2028:2.35},'FinAdmin':{2026:0.45,2027:1.3,2028:2.35},'Backoffice':{2026:0.4,2027:2.32,2028:4.35},'DataEng':{2026:0.2,2027:0.4,2028:0.4}};
  const roles=Object.keys(fteByRole),years=[2026,2027,2028],colors=['#c8ff5a','#5af0ff','#ff7a5a'],maxFTE=4.35;
  wrap.innerHTML=`<div class="bar-chart">${roles.map(role=>`<div class="bar-group"><div class="bars" style="height:120px">${years.map((yr,i)=>`<div class="bar" style="height:${(fteByRole[role][yr]/maxFTE*120)}px;background:${colors[i]}" title="${role} ${yr}: ${fteByRole[role][yr]} FTE"></div>`).join('')}</div><div class="bar-label">${role.length>7?role.slice(0,6)+'.':role}</div></div>`).join('')}</div><div style="display:flex;gap:16px;margin-top:12px">${years.map((y,i)=>`<div style="display:flex;align-items:center;gap:6px;font-size:10px;color:var(--muted)"><div style="width:10px;height:10px;border-radius:2px;background:${colors[i]}"></div>${y}</div>`).join('')}</div><div style="margin-top:12px;font-size:11px;color:var(--muted)">Total FTE: <span style="color:var(--text)">2.7 → 9.4 → 17.8</span></div>`;
}

function renderOPEXChart(){
  const wrap=document.getElementById('opexChart');
  const opexCats={'Personnel':{2026:237000,2027:756000,2028:1680000},'Housing':{2026:37800,2027:70000,2028:134772},'General':{2026:17700,2027:36462,2028:75112},'Marketing':{2026:18260,2027:37615,2028:85891},'Mgmt Fee':{2026:96000,2027:228000,2028:456000}};
  const yr=currentYear==='all'?2028:currentYear,total=Object.values(opexCats).reduce((s,v)=>s+v[yr],0);
  const colors=['#c8ff5a','#5af0ff','#ff7a5a','#a78bfa','#5a607a'];
  wrap.innerHTML=Object.entries(opexCats).map(([name,vals],i)=>{
    const v=vals[yr],w=total?(v/total*100):0;
    return`<div style="margin-bottom:12px"><div style="display:flex;justify-content:space-between;font-size:10px;margin-bottom:4px"><span style="color:var(--muted)">${name}</span><span>${fmt(v)}</span></div><div style="background:var(--border);border-radius:2px;height:6px;overflow:hidden"><div style="width:${w}%;height:100%;background:${colors[i]};border-radius:2px"></div></div></div>`;
  }).join('')+`<div style="border-top:1px solid var(--border);padding-top:10px;font-size:11px;color:var(--muted)">Total OPEX: <span style="color:var(--text);font-weight:500">${fmt(total)}</span></div>`;
}

// ══════════════════════════════════════════
// CASH FLOW LOGIC
// ══════════════════════════════════════════
const rawCash={
  2026:{revenue:[20000,20000,30000,21750,21750,34250,33000,33000,55500,53250,53250,85750],opCash:[-1417,-4453,2464,7248,-362,4307,-10763,-18729,-15486,6105,-2378,2884],invCash:[-7000,-2000,-2000,-2000,-2000,-2000,-2000,-2000,-2000,-2000,-2000,-2000],finCash:[0,0,0,0,0,0,0,0,0,0,0,0],netChange:[-8417,-6453,464,5248,-2362,2307,-12763,-20729,-17486,4105,-4378,884],cashBegin:[5000,-3417,-9870,-9406,-4159,-6520,-4213,-16976,-37705,-55191,-51086,-55463],cashEnd:[-3417,-9870,-9406,-4159,-6520,-4213,-16976,-37705,-55191,-51086,-55463,-54580]},
  2027:{revenue:[86638,96638,108725,121575,131162,132838,132838,142838,152425,154100,154100,214100],opCash:[27032,11943,4223,30893,-11309,820,31493,20354,7147,45003,24562,24830],invCash:[-7000,-7000,-2000,-2000,-2000,-2000,-2000,-2000,-2000,-2000,-2000,-2000],finCash:[0,0,0,0,0,0,0,0,0,0,0,0],netChange:[20032,4943,2223,28893,-13309,-1180,29493,18354,5147,43003,22562,22830],cashBegin:[-54580,-34548,-29605,-27382,1511,-11799,-12979,16514,34868,40016,83018,105580],cashEnd:[-34548,-29605,-27382,1511,-11799,-12979,16514,34868,40016,83018,105580,128410]},
  2028:{revenue:[229949,239949,252391,266133,276075,278459,278459,288459,298401,300784,300784,300784],opCash:[85785,42261,19026,85997,4647,28004,106080,72848,39864,111291,68776,27237],invCash:[-12000,-7000,-2000,-2000,-2000,-2000,-2000,-2000,-2000,-2000,-2000,-2000],finCash:[0,0,0,0,0,0,0,0,0,0,0,0],netChange:[73785,35261,17026,83997,2647,26004,104080,70848,37864,109291,66776,25237],cashBegin:[128410,202195,237456,254482,338479,341127,367130,471211,542058,579922,689213,755989],cashEnd:[202195,237456,254482,338479,341127,367130,471211,542058,579922,689213,755989,781226]}
};
const allCashEnd=[...rawCash[2026].cashEnd,...rawCash[2027].cashEnd,...rawCash[2028].cashEnd];
const allNetChange=[...rawCash[2026].netChange,...rawCash[2027].netChange,...rawCash[2028].netChange];
const allRevenue=[...rawCash[2026].revenue,...rawCash[2027].revenue,...rawCash[2028].revenue];
const allOpCash=[...rawCash[2026].opCash,...rawCash[2027].opCash,...rawCash[2028].opCash];
const MONTHS=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
const ALL_LABELS=[...MONTHS.map(m=>m+"'26"),...MONTHS.map(m=>m+"'27"),...MONTHS.map(m=>m+"'28")];
let cashYear=2026;

function fmtC(n,dec=0){if(n===null||n===undefined)return'—';const neg=n<0;const abs=Math.abs(n);const s=abs>=1e6?(n/1e6).toFixed(2)+'M':abs>=1e3?'€'+Math.round(abs).toLocaleString('nl-NL'):'€'+abs.toFixed(dec);return neg?'−€'+Math.round(abs).toLocaleString('nl-NL'):s;}
function fmtRaw(n){if(!n&&n!==0)return'—';const neg=n<0;const s='€'+Math.abs(Math.round(n)).toLocaleString('nl-NL');return neg?'('+s+')':s;}
function colorVal(n){return n>=0?'var(--green)':'var(--red)';}

function setCashYear(yr,btn){cashYear=yr;document.querySelectorAll('#page-cashflow .ytab').forEach(b=>b.classList.remove('active'));btn.classList.add('active');renderCashflow();}

function getCashData(){
  if(cashYear==='all')return{cashEnd:allCashEnd,netChange:allNetChange,opCash:allOpCash,labels:ALL_LABELS,revenue:allRevenue};
  const d=rawCash[cashYear];return{cashEnd:d.cashEnd,netChange:d.netChange,opCash:d.opCash,labels:MONTHS,revenue:d.revenue};
}

function renderCashflow(){
  renderSummary();renderCashLine();renderNetChange();renderComponents();renderCFTable();renderRunway();renderAlerts();
}

function renderSummary(){
  const strip=document.getElementById('summaryStrip');
  if(cashYear==='all'){
    const minCash=Math.min(...allCashEnd),endCash=allCashEnd[35],firstPos=allCashEnd.findIndex(v=>v>0),totalOpCash=allOpCash.reduce((s,v)=>s+v,0);
    strip.innerHTML=`<div class="stat-box ${endCash>0?'pos':'neg'}"><div class="stat-label">Cash — End 2028</div><div class="stat-val" style="color:${colorVal(endCash)}">${fmtC(endCash)}</div><div class="stat-sub">Final cash position</div></div><div class="stat-box neg"><div class="stat-label">Lowest Cash Point</div><div class="stat-val" style="color:var(--red)">${fmtC(minCash)}</div><div class="stat-sub">Peak cash need</div></div><div class="stat-box ${firstPos>=0?'pos':'warn'}"><div class="stat-label">Cash Turns Positive</div><div class="stat-val" style="color:var(--accent)">${firstPos>=0?ALL_LABELS[firstPos]:'Not in period'}</div><div class="stat-sub">${firstPos>=0?'Month '+(firstPos+1)+' of 36':'Needs bridge'}</div></div><div class="stat-box ${totalOpCash>0?'pos':'neg'}"><div class="stat-label">Cumulative Op. CF</div><div class="stat-val" style="color:${colorVal(totalOpCash)}">${fmtC(totalOpCash)}</div><div class="stat-sub">All 36 months</div></div>`;
  } else {
    const d=rawCash[cashYear],endCash=d.cashEnd[11],minCash=Math.min(...d.cashEnd),negMonths=d.cashEnd.filter(v=>v<0).length,totalOpCash=d.opCash.reduce((s,v)=>s+v,0);
    strip.innerHTML=`<div class="stat-box ${endCash>0?'pos':'neg'}"><div class="stat-label">Cash End of Year</div><div class="stat-val" style="color:${colorVal(endCash)}">${fmtC(endCash)}</div><div class="stat-sub">Dec ${cashYear}</div></div><div class="stat-box neg"><div class="stat-label">Lowest Cash Point</div><div class="stat-val" style="color:var(--red)">${fmtC(minCash)}</div><div class="stat-sub">Peak cash need</div></div><div class="stat-box ${negMonths>0?'warn':'pos'}"><div class="stat-label">Months Negative</div><div class="stat-val" style="color:${negMonths>0?'var(--yellow)':'var(--green)'}">${negMonths}/12</div><div class="stat-sub">${negMonths>0?'Bridge needed':'Fully positive'}</div></div><div class="stat-box ${totalOpCash>0?'pos':'neg'}"><div class="stat-label">Operating CF Total</div><div class="stat-val" style="color:${colorVal(totalOpCash)}">${fmtC(totalOpCash)}</div><div class="stat-sub">${cashYear} cumulative</div></div>`;
  }
}

function renderCashLine(){
  const{cashEnd,labels}=getCashData();const n=cashEnd.length;const W=900,H=180,padL=60,padR=20,padT=16,padB=20,cW=W-padL-padR,cH=H-padT-padB;
  const min=Math.min(...cashEnd,0),max=Math.max(...cashEnd,0),range=max-min||1;
  function xPos(i){return padL+(i/(n-1))*cW;}function yPos(v){return padT+cH-((v-min)/range)*cH;}
  const zeroY=yPos(0);
  let gridLines='';for(let i=0;i<=4;i++){const v=min+(range/4)*i,y=yPos(v);gridLines+=`<line x1="${padL}" y1="${y}" x2="${W-padR}" y2="${y}" stroke="#1c2030" stroke-width="1"/><text x="${padL-6}" y="${y+4}" text-anchor="end" font-size="9" fill="#4a5270">${fmtC(v)}</text>`;}
  const zeroLine=`<line x1="${padL}" y1="${zeroY}" x2="${W-padR}" y2="${zeroY}" stroke="rgba(255,107,107,0.4)" stroke-width="1.5" stroke-dasharray="4 3"/>`;
  let linePath=cashEnd.map((v,i)=>`${i===0?'M':'L'} ${xPos(i)},${yPos(v)}`).join(' ');
  const dots=cashEnd.map((v,i)=>`<circle cx="${xPos(i)}" cy="${yPos(v)}" r="3" fill="${v>=0?'#00e5ff':'#ff6b6b'}" stroke="#080a0e" stroke-width="1.5"><title>${labels[i%labels.length]}: ${fmtC(v)}</title></circle>`).join('');
  const mlabels=cashEnd.map((_,i)=>{const lbl=n>12?(i%3===0?ALL_LABELS[i]:''):MONTHS[i];return lbl?`<text x="${xPos(i)}" y="${H-2}" text-anchor="middle" font-size="8" fill="#4a5270">${lbl}</text>`:''}).join('');
  const posArea=`M ${xPos(0)},${Math.min(yPos(cashEnd[0]),zeroY)} `+cashEnd.map((v,i)=>`L ${xPos(i)},${Math.min(yPos(v),zeroY)}`).join(' ')+` L ${xPos(n-1)},${zeroY} L ${xPos(0)},${zeroY} Z`;
  const negArea=`M ${xPos(0)},${Math.max(yPos(cashEnd[0]),zeroY)} `+cashEnd.map((v,i)=>`L ${xPos(i)},${Math.max(yPos(v),zeroY)}`).join(' ')+` L ${xPos(n-1)},${zeroY} L ${xPos(0)},${zeroY} Z`;
  document.getElementById('cashLineChart').innerHTML=`<svg viewBox="0 0 ${W} ${H}" width="100%" preserveAspectRatio="none" style="height:${H}px"><defs><linearGradient id="posG" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(0,229,255,0.15)"/><stop offset="100%" stop-color="rgba(0,229,255,0)"/></linearGradient><linearGradient id="negG" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(255,107,107,0)"/><stop offset="100%" stop-color="rgba(255,107,107,0.2)"/></linearGradient></defs>${gridLines}${zeroLine}<path d="${posArea}" fill="url(#posG)"/><path d="${negArea}" fill="url(#negG)"/><path d="${linePath}" fill="none" stroke="#00e5ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>${dots}${mlabels}</svg>`;
}

function renderNetChange(){
  const{netChange}=getCashData();const maxAbs=Math.max(...netChange.map(Math.abs));const wrap=document.getElementById('netChangeChart');const labWrap=document.getElementById('netChangeLabels');
  wrap.innerHTML=netChange.map((v,i)=>{const h=maxAbs?(Math.abs(v)/maxAbs*95):2;const color=v>=0?'var(--green)':'var(--red)';const isDown=v<0;return`<div class="wf-col" style="height:110px;justify-content:center">${isDown?`<div style="flex:1;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;width:100%;padding-top:50%"><div class="wf-bar" style="height:${h}px;background:${color};opacity:0.8;border-radius:0 0 2px 2px" title="${MONTHS[i%12]}: ${fmtC(v)}"></div></div>`:`<div style="flex:1;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;width:100%;padding-bottom:50%"><div class="wf-bar" style="height:${h}px;background:${color};opacity:0.85" title="${MONTHS[i%12]}: ${fmtC(v)}"></div></div>`}</div>`}).join('');
  const n=netChange.length;labWrap.innerHTML=netChange.map((_,i)=>{const lbl=n>12?(i%3===0?ALL_LABELS[i]:''):MONTHS[i];return`<div class="m-label">${lbl}</div>`}).join('');
}

function renderComponents(){
  const wrap=document.getElementById('componentsChart');
  let opTotal,invTotal,revenueTotal;
  if(cashYear==='all'){opTotal=allOpCash.reduce((s,v)=>s+v,0);invTotal=[2026,2027,2028].reduce((s,yr)=>s+rawCash[yr].invCash.reduce((a,b)=>a+b,0),0);revenueTotal=allRevenue.reduce((s,v)=>s+v,0);}
  else{const d=rawCash[cashYear];opTotal=d.opCash.reduce((s,v)=>s+v,0);invTotal=d.invCash.reduce((s,v)=>s+v,0);revenueTotal=d.revenue.reduce((s,v)=>s+v,0);}
  const items=[{label:'Revenue',val:revenueTotal,color:'var(--accent)'},{label:'Operating CF',val:opTotal,color:opTotal>=0?'var(--green)':'var(--red)'},{label:'Investing CF',val:invTotal,color:'var(--yellow)'},{label:'Financing CF',val:0,color:'var(--neutral)'}];
  const maxAbs=Math.max(...items.map(it=>Math.abs(it.val)));
  wrap.innerHTML=items.map(it=>{const w=maxAbs?Math.abs(it.val)/maxAbs*100:0;const neg=it.val<0;return`<div style="margin-bottom:14px"><div style="display:flex;justify-content:space-between;font-size:10px;margin-bottom:4px"><span style="color:var(--muted)">${it.label}</span><span style="color:${it.color}">${fmtRaw(it.val)}</span></div><div style="background:var(--border);border-radius:2px;height:6px;overflow:hidden;position:relative">${neg?`<div style="position:absolute;right:0;width:${w}%;height:100%;background:${it.color};opacity:0.8;border-radius:2px"></div>`:`<div style="width:${w}%;height:100%;background:${it.color};opacity:0.85;border-radius:2px"></div>`}</div></div>`;}).join('');
}

function renderCFTable(){
  const table=document.getElementById('cfTable');const years=[2026,2027,2028];
  const sections=[{label:'OPERATING ACTIVITIES',rows:[{label:'Total Revenue',key:'revenue'},{label:'Net cash from operations',key:'opCash',total:true}]},{label:'INVESTING ACTIVITIES',rows:[{label:'Net cash from investing',key:'invCash',total:true}]},{label:'FINANCING ACTIVITIES',rows:[{label:'Net cash from financing',key:'finCash',total:true}]},{label:'CASH POSITION',rows:[{label:'Net cash change',key:'netChange',total:true},{label:'Opening cash balance',key:'cashBegin'},{label:'Closing cash balance',key:'cashEnd',total:true}]}];
  function sum(arr){return arr.reduce((s,v)=>s+(v||0),0);}
  let html=`<thead><tr><th>Cash Flow Summary</th>${years.map(y=>`<th>${y}</th>`).join('')}</tr></thead><tbody>`;
  for(const section of sections){html+=`<tr class="divider"><td colspan="4"></td></tr><tr><td colspan="4" style="font-size:9px;letter-spacing:.12em;text-transform:uppercase;color:var(--muted);padding:10px 14px 4px;background:var(--bg)">${section.label}</td></tr>`;for(const row of section.rows){const vals=years.map(yr=>sum(rawCash[yr][row.key]));html+=`<tr class="${row.total?'total-row':''}"><td>${row.label}</td>${vals.map(v=>`<td class="${row.total?'':v>0?'pos-val':v<0?'neg-val':''}">${fmtRaw(v)}</td>`).join('')}</tr>`;}}
  html+='</tbody>';table.innerHTML=html;
}

function renderRunway(){
  const card=document.getElementById('runwayCard');const globalMin=Math.min(...allCashEnd),firstPos=allCashEnd.findIndex(v=>v>0);
  let bars=[2026,2027,2028].map(yr=>{const d=rawCash[yr],negMonths=d.cashEnd.filter(v=>v<0).length,pct=negMonths/12,color=negMonths===12?'var(--red)':negMonths>6?'var(--yellow)':'var(--green)';return`<div style="margin-bottom:14px"><div class="runway-label" style="margin-bottom:6px">${yr} — ${negMonths} of 12 months negative</div><div class="runway-track"><div class="runway-fill" style="width:${(1-pct)*100}%;background:${color}"></div></div><div class="runway-months"><span style="color:${color}">${12-negMonths} months positive</span><span>Peak: ${fmtC(Math.min(...d.cashEnd))}</span></div></div>`;}).join('');
  card.innerHTML=`<div class="runway-label">Cash Positive Coverage by Year</div>${bars}<div style="font-size:10px;color:var(--muted);border-top:1px solid var(--border);padding-top:12px;margin-top:4px">Cash turns positive: <span style="color:var(--accent)">${firstPos>=0?ALL_LABELS[firstPos]+' (month '+(firstPos+1)+')':'Not within 36M'}</span><br>Peak funding need: <span style="color:var(--red)">${fmtC(globalMin)}</span></div>`;
}

function renderAlerts(){
  const card=document.getElementById('alertsCard');const firstPos=allCashEnd.findIndex(v=>v>0);const endCash2028=allCashEnd[35];
  card.innerHTML=`<div class="alert red">⚠ Peak cash deficit of <strong>${fmtC(Math.min(...allCashEnd))}</strong> reached in Sep 2026. A working capital facility or bridge of ~€60K is needed.</div><div class="alert yellow">↗ Cash turns positive for the first time in <strong>${firstPos>=0?ALL_LABELS[firstPos]:'month '+(firstPos+1)}</strong>. Growth Package client ramp in mid-2027 is the key driver.</div><div class="alert green">✓ By end of 2028, cash reaches <strong>${fmtC(endCash2028)}</strong>. Strongly cash-generative once client base exceeds ~12 recurring clients.</div><div class="alert green">✓ Operating cash flow is <strong>positive from 2027</strong> (€217K), with 2028 generating €692K — a healthy, scalable model.</div>`;
}

// Init
renderDashboard();
</script>
</body>
</html>
